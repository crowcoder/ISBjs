<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Interactive Search Builder for javascript Test Runner</title>
    <link rel="stylesheet" href="app.css" type="text/css" />
   
</head>
<body>
    <div>
        <div id="content">

        </div>
        <ul id="srchUL"></ul>
    </div>
    <button id="parseBtn" onclick="parse();">Parse</button>

    <br />
    <label for="dynLinq">Dynamic Linq:</label>
    <div id="dynLinq" class="resultdiv"></div>
    <label for="sql">SQL:</label>
    <div id="sql" class="resultdiv"></div>
    <label for="linqExpr">Postfix Expression:</label>
    <div id="linqExpr" class="resultdiv"></div>

    <script src="app.js"></script>
    <script>
        var isb;
        window.onload = function () {

            var langmap = {
                "equal": "Is equal to",
                "notequal": "<>",
                "startswith": "Starts with",
                "endswith": "Ends with",
                "istrue": "Is true",
                "isfalse": "Is false",
                "isnull": "Is Null",
                "isnotnull": "Is not null",
                "contains": "Contains",
                "greater": ">",
                "greatereq": ">=",
                "less": "<",
                "lesseq": "<=",
                "isin": "Is in",
                "isnotin": "Is not in",
                "defsrch": "Define Search",
                "reset": "Reset"
            }

            isb = new com.contrivedexample.isbjs.Isb({
                "listClass": "isbLi",
                "listItemClass": "isbLi",
                "andOrLiClass": "isbLi",
                "propSelClass": "isbselect",
                "operSelClass": "isbselect",
                "andOrSelClass": "isbselect",
                "btnClass": "isbBtn",
                "valueInputClass": "isbinput",
                "valueInputErrClass": "errorOnInput",
                "propSelAttributes": [
                    { "attr_Name": "MyAttr1", "attrValue": "aOne" },
                    { "attr_Name": "MyAttr2", "attrValue": "aTwo" }
                ],
                "divName": "content",
                "ulName": "srchUL",
                "propSelOptAttributes": [
                    { "attr_Name": "data-toggle", "attrValue": "foo" },
                    { "attr_Name": "data-role", "attrValue": "superman" }
                ],
                "propSelOptClass": "marque spin"
            });


            isb.addFilterProperty({ "display": "Last Name", "value": "lastname", "dataType": "text" });
            isb.addFilterProperty({ "display": "Age", "value": "age", "dataType": "number" });
            isb.addFilterProperty({ "display": "Gender", "value": "gender", "dataType": "text" });
            isb.addFilterProperty({ "display": "DOB", "value": "dob", "dataType": "date" })
            isb.addFilterProperty({ "display": "Is Vested", "value": "vested", "dataType": "bool" })            
            //isb.render();
        };

        function parse() {
            var linqresults = isb.parseForLinq();
            var postfixresults = isb.parseToPostFix();

            var dynlnq = document.querySelector("#dynLinq");
            dynlnq.innerHTML = '';
            dynlnq.innerHTML = linqresults.join();
            
            var lnq = document.querySelector("#linqExpr");
            lnq.innerHTML = '';
            lnq.innerHTML = postfixresults.join();

        }

    </script>
</body>
</html>